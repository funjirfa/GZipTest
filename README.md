# GZipTest
Тестовое задание **Veeam Software** на позицию ***C# Developer***

## Задача

Написать консольную программу на C#, предназначенную для поблочного сжатия и расжатия файлов с помощью `System.IO.Compression.GzipStream`.

Для компрессии исходный файл делится на блоки одинакового размера, например, в 1 мегабайт. Каждый блок компрессится и записывается в выходной файл независимо от остальных блоков. Программа должна эффективно распараллеливать и синхронизировать обработку блоков в многопроцессорной среде и уметь обрабатывать файлы, размер которых превышает объем доступной оперативной памяти. В случае исключительных ситуаций необходимо проинформировать пользователя понятным сообщением, позволяющим пользователю исправить возникшую проблему, в частности если проблемы связаны с ограничениями операционной системы.

При работе с потоками допускается использовать только стандартные классы и библиотеки из `.Net 3.5` (**исключая** `ThreadPool`, `BackgroundWorker`, `TPL`). Ожидается реализация с использованием `Thread`-ов. Код программы должен соответствовать принципам ***ООП*** и ***ООД*** (читаемость, разбиение на классы и т.д.).

## Критерии оценки

1.  Работоспособность – проверяется на тестовых файлах с размерами от 0 до 32 Gb;
2.  Правильность выбора алгоритма с точки зрения эффективности – должен быть максимально загружен самый слабый компонент системы (диск/процессор);
3.  Знание и умение использовать примитивы синхронизации – должны быть правильно выбраны примитивы для синхронизации потоков, доступа к данным;
4.  Проработка архитектуры – есть разбиение на классы по принципам ООП и ООД, не должно быть лишних классов, интерфейсов, методов и т.д.;
5.  Читабельность и понятность кода – код должен быть простым, аккуратным; алгоритм программы должен быть понятен без отладки;
6.  Грамотная обработка ошибок и нестандартных ситуаций – должна выводиться диагностическая информация, по которой должно быть понятно что произошло без отладки программы;
7.  Правильное управления ресурсами – не должно быть утечек неуправляемых ресурсов, а также своевременное уничтожение управляемых ресурсов.

## Формат входных данных

### Упаковка данных

`GZipTest.exe compress source_file_path compressed_file_path`

### Распаковка данных

`GZipTest.exe decompress compressed_file_path decompressed_file_path`

## Источники вдохновения

- [Метод GZipStream.Read (Byte[], Int32, Int32)](https://msdn.microsoft.com/ru-ru/library/system.io.compression.gzipstream.read(v=vs.110).aspx)

- [Stackoverflow](https://ru.stackoverflow.com/questions/428327/%D0%98%D0%BC%D0%BF%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F-producer-consumer-pattern)

- [Синхронизация потоков](https://docs.microsoft.com/ru-ru/dotnet/csharp/programming-guide/concepts/threading/thread-synchronization)

- [Методы Wait(), Pulse() и PulseAll](https://professorweb.ru/my/csharp/thread_and_files/1/1_10.php)
